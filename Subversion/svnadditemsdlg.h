#ifndef __svnadditemsdlg__
#define __svnadditemsdlg__

/**
@file
Subclass of svnadditemsbasedlg, which is generated by wxFormBuilder.
*/

#include "svnadditemsbasedlg.h"
#include "serialized_object.h"

class IConfigTool;

class SvnIgnorePatternData : public SerializedObject 
{
	wxString m_pattern;
public:
	SvnIgnorePatternData();
	~SvnIgnorePatternData();

	void DeSerialize(Archive &arch);
	void Serialize(Archive &arch);

	const wxString &GetIgnorePattern() const {return m_pattern;}
	void SetIgnorePattern(const wxString &pattern) {m_pattern = pattern;}
};

/** Implementing svnadditemsbasedlg */
class SvnAddItemsDlg : public SvnAddItemsBaseDlg
{
	IConfigTool *m_configTool;
	SvnIgnorePatternData m_data;
	wxArrayString m_files;

protected:
	void InitDialog(bool loadPattern = false);
	bool IsIgnoredFile(const wxString &file);
	void OnButtonCancel(wxCommandEvent &e);
	void OnButtonOK(wxCommandEvent &e);
	void OnApplyPattern(wxCommandEvent &e);

public:
	/** Constructor */
	SvnAddItemsDlg( wxWindow* parent , const wxArrayString &files, IConfigTool *confTool);
	wxString GetFiles();
};

#endif // __svnadditemsdlg__
