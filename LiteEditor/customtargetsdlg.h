#ifndef __customtargetsdlg__
#define __customtargetsdlg__

/**
@file
Subclass of CustomTargetsBase, which is generated by wxFormBuilder.
*/

#include "customtargetsbase.h"
#include <map>

/** Implementing CustomTargetsBase */
class CustomTargetsDlg : public CustomTargetsBase
{
	long m_selectedItem;
	std::map<wxString, wxString> m_targets;

protected:
	// Handlers for CustomTargetsBase events.
	void OnItemActivated( wxListEvent& event );
	void OnItemSelected( wxListEvent& event );
	void OnNewTarget( wxCommandEvent& event );
	void OnEditTarget( wxCommandEvent& event );
	void OnEditUI( wxUpdateUIEvent& event );
	void OnDeleteTarget( wxCommandEvent& event );
	void OnDeleteUI( wxUpdateUIEvent& event );
	void OnButtonOK(wxCommandEvent &event);
	
	void DoEditItem(long item);
	void DoUpdateItem(long item, const wxString &target, const wxString &cmd);
public:
	/** Constructor */
	CustomTargetsDlg( wxWindow* parent );
	void SetTargets(const std::map<wxString, wxString>& targets) ;
	const std::map<wxString, wxString>& GetTargets() const ;
};

#endif // __customtargetsdlg__
