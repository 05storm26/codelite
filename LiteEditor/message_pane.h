#ifndef __message_pane__
#define __message_pane__

/**
@file
Subclass of MessagePaneBase, which is generated by wxFormBuilder.
*/

#include "messagepane_base.h"
#include <vector>

class MessageDetails
{
public:
	wxString      message;
	wxString      buttonLabel;
	int           commandId;
	wxEvtHandler *window;
};

class MessagePaneData
{
	std::vector<MessageDetails> m_queue;
public:
	MessagePaneData(){}
	~MessagePaneData() { Clear(); }
	
	void           PushMessage(const MessageDetails &msg);
	void           PopMessage();
	MessageDetails CurrentMessage();
	void           Clear();
	bool           IsEmpty();
};

/** Implementing MessagePaneBase */
class MessagePane : public MessagePaneBase
{
	MessagePaneData m_messages;
	
protected:
	// Handlers for MessagePaneBase events.
	void OnKeyDown( wxKeyEvent& event );
	void OnButtonClose( wxCommandEvent& event );
	void OnActionButton( wxCommandEvent& event );
	void DoHide();
	void DoShowNextMessage();
	void DoShowCurrentMessage();
	
public:
	/** Constructor */
	MessagePane( wxWindow* parent );

	void ShowMessage(const wxString &message, const wxString &buttonLabel = wxEmptyString, int commandId = wxNOT_FOUND, wxEvtHandler *window = NULL);
};

#endif // __message_pane__
